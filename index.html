<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Micah Auto Job Application Tracker</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    // API calls handled by Cloudflare Worker (key hidden there)
    const WORKER_URL = 'https://job.micahberkley.workers.dev';
    
    const { useState, useEffect } = React;

    function JobTracker() {
      const [applications, setApplications] = useState([]);
      const [showAddForm, setShowAddForm] = useState(false);
      const [showPasteForm, setShowPasteForm] = useState(false);
      const [editingId, setEditingId] = useState(null);
      const [pasteText, setPasteText] = useState('');
      const [isParsing, setIsParsing] = useState(false);
      const [formData, setFormData] = useState({
        company: '',
        position: '',
        location: '',
        dateApplied: new Date().toISOString().split('T')[0],
        status: 'Applied',
        notes: '',
        personalNotes: '',
        screenshotUrl: ''
      });

      const statusOptions = ['Applied', 'Screening', 'Interview Scheduled', 'Interviewed', 'Offer', 'Rejected', 'Ghosted', 'Hidden'];
      
      const statusColors = {
        'Applied': 'bg-blue-100 text-blue-800 border-blue-300',
        'Screening': 'bg-yellow-100 text-yellow-800 border-yellow-300',
        'Interview Scheduled': 'bg-purple-100 text-purple-800 border-purple-300',
        'Interviewed': 'bg-indigo-100 text-indigo-800 border-indigo-300',
        'Offer': 'bg-green-100 text-green-800 border-green-300',
        'Rejected': 'bg-red-100 text-red-800 border-red-300',
        'Ghosted': 'bg-gray-100 text-gray-800 border-gray-300',
        'Hidden': 'bg-gray-50 text-gray-400 border-gray-200'
      };

      // Load data from data.json on mount
      useEffect(() => {
        // Try localStorage first
        const savedData = localStorage.getItem('job-applications');
        if (savedData) {
          try {
            setApplications(JSON.parse(savedData));
          } catch (e) {
            console.error('Failed to parse localStorage:', e);
          }
        }
        
        // Then try to load from data.json
        fetch('./data.json')
          .then(res => {
            if (!res.ok) throw new Error('Failed to fetch');
            return res.json();
          })
          .then(data => {
            setApplications(data);
            localStorage.setItem('job-applications', JSON.stringify(data));
          })
          .catch(err => {
            console.error('Failed to load data.json:', err);
            // If localStorage had nothing and fetch failed, use empty array
            if (!savedData) {
              setApplications([]);
            }
          });
      }, []);

      const visibleApplications = applications.filter(app => app.status !== 'Hidden');

      const stats = {
        total: visibleApplications.length,
        thisWeek: visibleApplications.filter(app => {
          const appDate = new Date(app.dateApplied);
          const weekAgo = new Date();
          weekAgo.setDate(weekAgo.getDate() - 7);
          return appDate >= weekAgo;
        }).length,
        interviews: visibleApplications.filter(app => 
          app.status === 'Interview Scheduled' || app.status === 'Interviewed'
        ).length,
        offers: visibleApplications.filter(app => app.status === 'Offer').length
      };

      const handleSubmit = (e) => {
        e.preventDefault();
        if (editingId) {
          const updatedApps = applications.map(app =>
            app.id === editingId ? { ...formData, id: editingId } : app
          );
          setApplications(updatedApps);
          saveToLocalStorage(updatedApps);
        } else {
          const newApp = { ...formData, id: Date.now().toString() };
          const updatedApps = [newApp, ...applications];
          setApplications(updatedApps);
          saveToLocalStorage(updatedApps);
        }
        resetForm();
      };

      const handleEdit = (app) => {
        setFormData(app);
        setEditingId(app.id);
        setShowAddForm(true);
        setShowPasteForm(false);
      };

      const handleDelete = (id) => {
        if (confirm('Are you sure you want to delete this application?')) {
          const updatedApps = applications.filter(app => app.id !== id);
          setApplications(updatedApps);
          saveToLocalStorage(updatedApps);
        }
      };

      const handleStatusChange = (id, newStatus) => {
        const updatedApps = applications.map(app =>
          app.id === id ? { ...app, status: newStatus } : app
        );
        setApplications(updatedApps);
        saveToLocalStorage(updatedApps);
      };

      const resetForm = () => {
        setFormData({
          company: '',
          position: '',
          location: '',
          dateApplied: new Date().toISOString().split('T')[0],
          status: 'Applied',
          notes: '',
          personalNotes: '',
          screenshotUrl: ''
        });
        setShowAddForm(false);
        setEditingId(null);
      };

      const handlePaste = async () => {
        if (!pasteText.trim()) return;
        
        if (!WORKER_URL || WORKER_URL === 'WORKER_URL_HERE') {
          alert('‚ö†Ô∏è Cloudflare Worker not configured yet. See setup instructions.');
          return;
        }
        
        setIsParsing(true);
        
        try {
          const response = await fetch(WORKER_URL, {
            method: "POST",
            headers: {
              "Content-Type": "application/json"
            },
            body: JSON.stringify({ text: pasteText })
          });

          if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.error || 'Worker request failed');
          }
          
          const parsed = await response.json();
          
          if (!parsed.position) {
            alert('Could not find job position in pasted text. Please try again or use manual entry.');
            setIsParsing(false);
            return;
          }
          
          const notes = [];
          if (parsed.salary) notes.push(`Salary: ${parsed.salary}`);
          notes.push('Imported via AI paste');
          
          const newApp = {
            id: Date.now().toString(),
            company: parsed.company || 'Unknown',
            position: parsed.position,
            location: parsed.location || '',
            dateApplied: new Date().toISOString().split('T')[0],
            status: 'Applied',
            notes: notes.join(' | '),
            personalNotes: '',
            screenshotUrl: ''
          };
          
          const updatedApps = [newApp, ...applications];
          setApplications(updatedApps);
          saveToLocalStorage(updatedApps);
          
          setPasteText('');
          setShowPasteForm(false);
          alert(`‚úÖ Added: ${newApp.position} at ${newApp.company}`);
        } catch (error) {
          console.error('Parsing error:', error);
          alert(`Failed to parse the pasted text:\n${error.message}\n\nPlease try again or use manual entry.`);
        } finally {
          setIsParsing(false);
        }
      };

      const saveToLocalStorage = async (apps) => {
        // Save to browser
        localStorage.setItem('job-applications', JSON.stringify(apps));
        
        // Auto-save to GitHub
        try {
          const response = await fetch(WORKER_URL + '/save', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({ applications: apps })
          });
          
          if (response.ok) {
            console.log('‚úÖ Auto-saved to GitHub');
          } else {
            console.error('Failed to save to GitHub');
          }
        } catch (error) {
          console.error('GitHub save error:', error);
        }
      };

      const handleDownload = () => {
        const dataStr = JSON.stringify(applications, null, 2);
        const dataBlob = new Blob([dataStr], { type: 'application/json' });
        const url = URL.createObjectURL(dataBlob);
        const link = document.createElement('a');
        link.href = url;
        link.download = `job-applications-${new Date().toISOString().split('T')[0]}.json`;
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(url);
      };

      const handleSendEmail = () => {
        try {
          const subject = `Job Applications Report - ${new Date().toLocaleDateString()}`;
          let body = `Micah's Job Application Tracker\n`;
          body += `Generated: ${new Date().toLocaleString()}\n`;
          body += `Total Applications: ${applications.length}\n`;
          body += `Active Applications: ${visibleApplications.length}\n\n`;
          body += `${'='.repeat(60)}\n\n`;
          
          visibleApplications.forEach((app, index) => {
            body += `${index + 1}. ${app.position} at ${app.company}\n`;
            body += `   Location: ${app.location || 'N/A'}\n`;
            body += `   Applied: ${new Date(app.dateApplied).toLocaleDateString()}\n`;
            body += `   Status: ${app.status}\n`;
            if (app.notes) body += `   Notes: ${app.notes}\n`;
            if (app.personalNotes) body += `   Personal Notes: ${app.personalNotes}\n`;
            if (app.screenshotUrl) body += `   Screenshot: ${app.screenshotUrl}\n`;
            body += `\n`;
          });
          
          body += `\n${'='.repeat(60)}\n`;
          body += `\nTo email this report:\n`;
          body += `1. Open this downloaded file\n`;
          body += `2. Copy the contents\n`;
          body += `3. Paste into a new email to micahberkley@gmail.com\n`;
          body += `4. Subject: ${subject}\n`;
          
          const dataBlob = new Blob([body], { type: 'text/plain' });
          const url = URL.createObjectURL(dataBlob);
          const link = document.createElement('a');
          link.href = url;
          link.download = `job-report-${new Date().toISOString().split('T')[0]}.txt`;
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
          URL.revokeObjectURL(url);
          
          alert('üìß Email report downloaded!\n\nOpen the .txt file and copy/paste it into an email to send.');
        } catch (error) {
          console.error('Email error:', error);
          alert('Failed to create email report. Please try downloading the backup instead.');
        }
      };

      const handleCheckGmail = () => {
        const message = `üìß Gmail Auto-Import Instructions

To automatically import job applications from Gmail:

1. Go back to Claude chat (outside this page)

2. Copy and paste this message:
   "Check my Gmail for job applications from the past 24 hours and add them to my job tracker"

3. Claude will:
   ‚úì Search your Gmail inbox
   ‚úì Find job application confirmations
   ‚úì Extract company, position, and location
   ‚úì Update the data.json file on GitHub
   ‚úì Your tracker will auto-refresh with new jobs!

This works through Claude chat because this page can't directly access Gmail.

Ready to try it? Just paste that message in Claude!`;

        alert(message);
      };

      return (
        <div style={{ minHeight: '100vh', padding: '2rem' }}>
          <div style={{ maxWidth: '1400px', margin: '0 auto', background: 'white', borderRadius: '1rem', padding: '2rem', boxShadow: '0 20px 60px rgba(0,0,0,0.3)' }}>
            {/* Header */}
            <div style={{ marginBottom: '2rem' }}>
              <h1 style={{ fontSize: '2.5rem', fontWeight: 'bold', color: '#1f2937', marginBottom: '0.5rem', display: 'flex', alignItems: 'center', gap: '1rem' }}>
                <span style={{ fontSize: '40px' }}>üíº</span>
                Micah Auto Job Application Tracker
              </h1>
              <p style={{ color: '#6b7280' }}>Stay organized and land your dream job</p>
            </div>

            {/* Stats */}
            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem', marginBottom: '2rem' }}>
              <div style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', padding: '1.5rem', borderRadius: '0.5rem', color: 'white' }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                  <div>
                    <p style={{ fontSize: '0.875rem', opacity: 0.9 }}>Total Applications</p>
                    <p style={{ fontSize: '2rem', fontWeight: 'bold', margin: '0.5rem 0 0 0' }}>{stats.total}</p>
                  </div>
                  <span style={{ fontSize: '32px', opacity: 0.8 }}>üíº</span>
                </div>
              </div>

              <div style={{ background: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)', padding: '1.5rem', borderRadius: '0.5rem', color: 'white' }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                  <div>
                    <p style={{ fontSize: '0.875rem', opacity: 0.9 }}>This Week</p>
                    <p style={{ fontSize: '2rem', fontWeight: 'bold', margin: '0.5rem 0 0 0' }}>{stats.thisWeek}</p>
                  </div>
                  <span style={{ fontSize: '32px', opacity: 0.8 }}>üìà</span>
                </div>
              </div>

              <div style={{ background: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)', padding: '1.5rem', borderRadius: '0.5rem', color: 'white' }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                  <div>
                    <p style={{ fontSize: '0.875rem', opacity: 0.9 }}>Interviews</p>
                    <p style={{ fontSize: '2rem', fontWeight: 'bold', margin: '0.5rem 0 0 0' }}>{stats.interviews}</p>
                  </div>
                  <span style={{ fontSize: '32px', opacity: 0.8 }}>‚è∞</span>
                </div>
              </div>

              <div style={{ background: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)', padding: '1.5rem', borderRadius: '0.5rem', color: 'white' }}>
                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                  <div>
                    <p style={{ fontSize: '0.875rem', opacity: 0.9 }}>Offers</p>
                    <p style={{ fontSize: '2rem', fontWeight: 'bold', margin: '0.5rem 0 0 0' }}>{stats.offers}</p>
                  </div>
                  <span style={{ fontSize: '32px', opacity: 0.8 }}>‚úÖ</span>
                </div>
              </div>
            </div>

            {/* Action Buttons */}
            <div style={{ marginBottom: '1.5rem', display: 'flex', gap: '0.75rem', flexWrap: 'wrap' }}>
              <button
                onClick={() => {
                  setShowAddForm(!showAddForm);
                  setShowPasteForm(false);
                }}
                style={{ background: '#4f46e5', color: 'white', padding: '0.75rem 1.5rem', borderRadius: '0.5rem', fontWeight: '600', display: 'flex', alignItems: 'center', gap: '0.5rem', border: 'none', cursor: 'pointer', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}
              >
                <span>‚ûï</span>
                {showAddForm ? 'Cancel' : 'Add New Application'}
              </button>
              
              <button
                onClick={() => {
                  setShowPasteForm(!showPasteForm);
                  setShowAddForm(false);
                }}
                style={{ background: '#10b981', color: 'white', padding: '0.75rem 1.5rem', borderRadius: '0.5rem', fontWeight: '600', display: 'flex', alignItems: 'center', gap: '0.5rem', border: 'none', cursor: 'pointer', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}
              >
                <span>‚ú®</span>
                {showPasteForm ? 'Cancel' : 'AI Quick Paste'}
              </button>
              
              <button
                onClick={handleCheckGmail}
                style={{ background: '#3b82f6', color: 'white', padding: '0.75rem 1.5rem', borderRadius: '0.5rem', fontWeight: '600', display: 'flex', alignItems: 'center', gap: '0.5rem', border: 'none', cursor: 'pointer', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}
              >
                <span>üîÑ</span>
                Check Gmail (24h)
              </button>
              
              <button
                onClick={handleSendEmail}
                style={{ background: '#8b5cf6', color: 'white', padding: '0.75rem 1.5rem', borderRadius: '0.5rem', fontWeight: '600', display: 'flex', alignItems: 'center', gap: '0.5rem', border: 'none', cursor: 'pointer', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}
              >
                <span>üìß</span>
                Send as Email
              </button>
              
              <button
                onClick={handleDownload}
                style={{ background: '#374151', color: 'white', padding: '0.75rem 1.5rem', borderRadius: '0.5rem', fontWeight: '600', display: 'flex', alignItems: 'center', gap: '0.5rem', border: 'none', cursor: 'pointer', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}
              >
                <span>‚¨áÔ∏è</span>
                Download Backup
              </button>
            </div>

            {/* Paste Form */}
            {showPasteForm && (
              <div style={{ background: '#f0fdf4', padding: '1.5rem', borderRadius: '0.5rem', marginBottom: '1.5rem', border: '2px solid #86efac' }}>
                <h3 style={{ fontSize: '1.125rem', fontWeight: '600', marginBottom: '1rem', color: '# 1f2937' }}>‚ú® AI Quick Paste</h3>
                <p style={{ fontSize: '0.875rem', color: '#6b7280', marginBottom: '1rem' }}>
                  Paste job details from Indeed, LinkedIn, or any job email. AI will automatically extract the information.
                </p>
                <textarea
                  value={pasteText}
                  onChange={(e) => setPasteText(e.target.value)}
                  style={{ width: '100%', padding: '0.75rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', fontSize: '1rem', minHeight: '150px', fontFamily: 'inherit' }}
                  placeholder="Paste job details here..."
                />
                <button
                  onClick={handlePaste}
                  disabled={isParsing || !pasteText.trim()}
                  style={{ 
                    marginTop: '1rem',
                    background: isParsing ? '#9ca3af' : '#10b981', 
                    color: 'white', 
                    padding: '0.5rem 1.5rem', 
                    borderRadius: '0.5rem', 
                    fontWeight: '600', 
                    border: 'none', 
                    cursor: isParsing ? 'not-allowed' : 'pointer',
                    opacity: (!pasteText.trim() || isParsing) ? 0.5 : 1
                  }}
                >
                  {isParsing ? 'ü§ñ Parsing with AI...' : 'Import Application'}
                </button>
              </div>
            )}

            {/* Add Form */}
            {showAddForm && (
              <div style={{ background: '#f9fafb', padding: '1.5rem', borderRadius: '0.5rem', marginBottom: '1.5rem', border: '2px solid #e5e7eb' }}>
                <h3 style={{ fontSize: '1.125rem', fontWeight: '600', marginBottom: '1rem', color: '#1f2937' }}>
                  {editingId ? 'Edit Application' : 'Add New Application'}
                </h3>
                <form onSubmit={handleSubmit}>
                  <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: '1rem' }}>
                    <div>
                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>Company</label>
                      <input
                        type="text"
                        required
                        value={formData.company}
                        onChange={(e) => setFormData({...formData, company: e.target.value})}
                        style={{ width: '100%', padding: '0.5rem 1rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', fontSize: '1rem' }}
                        placeholder="e.g., Google"
                      />
                    </div>
                    
                    <div>
                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>Position</label>
                      <input
                        type="text"
                        required
                        value={formData.position}
                        onChange={(e) => setFormData({...formData, position: e.target.value})}
                        style={{ width: '100%', padding: '0.5rem 1rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', fontSize: '1rem' }}
                        placeholder="e.g., Software Engineer"
                      />
                    </div>
                    
                    <div>
                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>Location</label>
                      <input
                        type="text"
                        value={formData.location}
                        onChange={(e) => setFormData({...formData, location: e.target.value})}
                        style={{ width: '100%', padding: '0.5rem 1rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', fontSize: '1rem' }}
                        placeholder="e.g., Miami, FL"
                      />
                    </div>
                    
                    <div>
                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>Date Applied</label>
                      <input
                        type="date"
                        required
                        value={formData.dateApplied}
                        onChange={(e) => setFormData({...formData, dateApplied: e.target.value})}
                        style={{ width: '100%', padding: '0.5rem 1rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', fontSize: '1rem' }}
                      />
                    </div>
                    
                    <div>
                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>Status</label>
                      <select
                        value={formData.status}
                        onChange={(e) => setFormData({...formData, status: e.target.value})}
                        style={{ width: '100%', padding: '0.5rem 1rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', fontSize: '1rem' }}
                      >
                        {statusOptions.map(status => (
                          <option key={status} value={status}>{status}</option>
                        ))}
                      </select>
                      <p style={{ fontSize: '0.75rem', color: '#6b7280', marginTop: '0.25rem' }}>Set status to 'Hidden' to remove from dashboard without deleting</p>
                    </div>
                    
                    <div style={{ gridColumn: '1 / -1' }}>
                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>Auto Notes (e.g., source, salary)</label>
                      <textarea
                        value={formData.notes}
                        onChange={(e) => setFormData({...formData, notes: e.target.value})}
                        style={{ width: '100%', padding: '0.5rem 1rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', fontSize: '1rem' }}
                        rows="2"
                        placeholder="Automatically populated info..."
                      />
                    </div>
                    
                    <div style={{ gridColumn: '1 / -1' }}>
                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem' }}>Personal Notes</label>
                      <textarea
                        value={formData.personalNotes}
                        onChange={(e) => setFormData({...formData, personalNotes: e.target.value})}
                        style={{ width: '100%', padding: '0.5rem 1rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', fontSize: '1rem' }}
                        rows="3"
                        placeholder="Your private notes about this application..."
                      />
                    </div>
                    
                    <div style={{ gridColumn: '1 / -1' }}>
                      <label style={{ display: 'block', fontSize: '0.875rem', fontWeight: '500', color: '#374151', marginBottom: '0.25rem', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                        <span>üì∑</span>
                        Screenshot URL (optional)
                      </label>
                      <input
                        type="url"
                        value={formData.screenshotUrl}
                        onChange={(e) => setFormData({...formData, screenshotUrl: e.target.value})}
                        style={{ width: '100%', padding: '0.5rem 1rem', border: '1px solid #d1d5db', borderRadius: '0.5rem', fontSize: '1rem' }}
                        placeholder="https://example.com/screenshot.jpg"
                      />
                    </div>
                  </div>
                  
                  <div style={{ marginTop: '1rem', display: 'flex', gap: '0.75rem' }}>
                    <button
                      type="submit"
                      style={{ background: '#4f46e5', color: 'white', padding: '0.5rem 1.5rem', borderRadius: '0.5rem', fontWeight: '600', display: 'flex', alignItems: 'center', gap: '0.5rem', border: 'none', cursor: 'pointer' }}
                    >
                      <span>üíæ</span>
                      {editingId ? 'Update' : 'Add'} Application
                    </button>
                    <button
                      type="button"
                      onClick={resetForm}
                      style={{ background: '#6b7280', color: 'white', padding: '0.5rem 1.5rem', borderRadius: '0.5rem', fontWeight: '600', border: 'none', cursor: 'pointer' }}
                    >
                      Cancel
                    </button>
                  </div>
                </form>
              </div>
            )}

            {/* Applications Table */}
            <div style={{ overflowX: 'auto', borderRadius: '0.5rem', border: '1px solid #e5e7eb' }}>
              <table style={{ width: '100%', borderCollapse: 'collapse' }}>
                <thead style={{ background: '#f9fafb' }}>
                  <tr>
                    <th style={{ padding: '1rem 1.5rem', textAlign: 'left', fontSize: '0.75rem', fontWeight: '500', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Company</th>
                    <th style={{ padding: '1rem 1.5rem', textAlign: 'left', fontSize: '0.75rem', fontWeight: '500', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Position</th>
                    <th style={{ padding: '1rem 1.5rem', textAlign: 'left', fontSize: '0.75rem', fontWeight: '500', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Location</th>
                    <th style={{ padding: '1rem 1.5rem', textAlign: 'left', fontSize: '0.75rem', fontWeight: '500', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Date Applied</th>
                    <th style={{ padding: '1rem 1.5rem', textAlign: 'left', fontSize: '0.75rem', fontWeight: '500', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Status</th>
                    <th style={{ padding: '1rem 1.5rem', textAlign: 'left', fontSize: '0.75rem', fontWeight: '500', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Auto Notes</th>
                    <th style={{ padding: '1rem 1.5rem', textAlign: 'left', fontSize: '0.75rem', fontWeight: '500', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Personal Notes</th>
                    <th style={{ padding: '1rem 1.5rem', textAlign: 'center', fontSize: '0.75rem', fontWeight: '500', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>üì∑</th>
                    <th style={{ padding: '1rem 1.5rem', textAlign: 'left', fontSize: '0.75rem', fontWeight: '500', color: '#6b7280', textTransform: 'uppercase', letterSpacing: '0.05em' }}>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  {visibleApplications.map((app) => (
                    <tr key={app.id} style={{ borderTop: '1px solid #e5e7eb' }}>
                      <td style={{ padding: '1rem 1.5rem', whiteSpace: 'nowrap' }}>
                        <div style={{ fontWeight: '600', color: '#1f2937' }}>{app.company}</div>
                      </td>
                      <td style={{ padding: '1rem 1.5rem' }}>
                        <div style={{ color: '#1f2937' }}>{app.position}</div>
                      </td>
                      <td style={{ padding: '1rem 1.5rem', whiteSpace: 'nowrap' }}>
                        <div style={{ color: '#6b7280' }}>{app.location || '-'}</div>
                      </td>
                      <td style={{ padding: '1rem 1.5rem', whiteSpace: 'nowrap' }}>
                        <div style={{ color: '#6b7280' }}>{new Date(app.dateApplied).toLocaleDateString()}</div>
                      </td>
                      <td style={{ padding: '1rem 1.5rem', whiteSpace: 'nowrap' }}>
                        <select
                          value={app.status}
                          onChange={(e) => handleStatusChange(app.id, e.target.value)}
                          className={statusColors[app.status]}
                          style={{ padding: '0.25rem 0.75rem', borderRadius: '9999px', fontSize: '0.75rem', fontWeight: '600', cursor: 'pointer' }}
                        >
                          {statusOptions.map(status => (
                            <option key={status} value={status}>{status}</option>
                          ))}
                        </select>
                      </td>
                      <td style={{ padding: '1rem 1.5rem', maxWidth: '300px' }}>
                        <div style={{ color: '#6b7280', fontSize: '0.875rem', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{app.notes || '-'}</div>
                      </td>
                      <td style={{ padding: '1rem 1.5rem', maxWidth: '300px' }}>
                        <div style={{ color: '#1f2937', fontSize: '0.875rem', overflow: 'hidden', textOverflow: 'ellipsis', whiteSpace: 'nowrap' }}>{app.personalNotes || '-'}</div>
                      </td>
                      <td style={{ padding: '1rem 1.5rem', textAlign: 'center' }}>
                        {app.screenshotUrl ? (
                          <a 
                            href={app.screenshotUrl} 
                            target="_blank" 
                            rel="noopener noreferrer"
                            style={{ color: '#4f46e5', display: 'inline-block', fontSize: '20px' }}
                            title="View screenshot"
                          >
                            üì∑
                          </a>
                        ) : (
                          <span style={{ color: '#d1d5db', fontSize: '20px' }}>
                            üì∑
                          </span>
                        )}
                      </td>
                      <td style={{ padding: '1rem 1.5rem', whiteSpace: 'nowrap' }}>
                        <div style={{ display: 'flex', gap: '0.5rem' }}>
                          <button
                            onClick={() => handleEdit(app)}
                            style={{ color: '#4f46e5', background: 'none', border: 'none', cursor: 'pointer', padding: '0.25rem', fontSize: '18px' }}
                            title="Edit"
                          >
                            ‚úèÔ∏è
                          </button>
                          <button
                            onClick={() => handleDelete(app.id)}
                            style={{ color: '#dc2626', background: 'none', border: 'none', cursor: 'pointer', padding: '0.25rem', fontSize: '18px' }}
                            title="Delete"
                          >
                            üóëÔ∏è
                          </button>
                        </div>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>

            {visibleApplications.length === 0 && (
              <div style={{ textAlign: 'center', padding: '3rem', color: '#6b7280' }}>
                <p style={{ fontSize: '1.125rem', marginBottom: '0.5rem' }}>No applications yet</p>
                <p style={{ fontSize: '0.875rem' }}>Click "Add New Application" or use "Quick Paste Import" to get started!</p>
              </div>
            )}
          </div>
        </div>
      );
    }

    ReactDOM.render(<JobTracker />, document.getElementById('root'));
  </script>
</body>
</html>
